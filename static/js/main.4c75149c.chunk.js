(this.webpackJsonpreddit=this.webpackJsonpreddit||[]).push([[0],{11:function(e,t,s){e.exports={navItemBox:"navListItem_navItemBox__1CZaK",navItemBoxActive:"navListItem_navItemBoxActive__2kg1n"}},21:function(e,t,s){e.exports={error:"error_error__39s5N"}},22:function(e,t,s){e.exports={loader:"loading_loader__3HQ3t"}},27:function(e,t,s){},28:function(e,t,s){},49:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s.n(r),c=s(20),i=s.n(c),a=(s(27),s(28),s(21)),o=s.n(a),d=s(0),u=function(e){return Object(d.jsx)("div",{className:o.a.error,children:Object(d.jsx)("h1",{children:e.msg})})},l=s(4),b=s(3),j=s(7),h=s.n(j),x=function(e,t){switch(t.type){case"set-nav-items":return Object(b.a)(Object(b.a)({},e),{},{navigationItems:t.payload});case"set-selected-items":return Object(b.a)(Object(b.a)({},e),{},{selectedSubReddit:t.payload});case"set-sort-story":return Object(b.a)(Object(b.a)({},e),{},{sortBy:t.payload});case"set-story-items":return Object(b.a)(Object(b.a)({},e),{},{storyItems:t.payload});case"set-error":return Object(b.a)(Object(b.a)({},e),{},{error:Object(b.a)(Object(b.a)({},e.error),{},{error:t.payload.error,msg:t.payload.msg})});default:throw new Error("invalid input")}},f={setNavigationItems:function(){},setStoryItems:function(){},setSelectedSubReddit:function(){},navigationItems:[],storyItems:[],selectedSubReddit:{},setSortStory:null,sortBy:null,setError:null},O=n.a.createContext(f),m={context:O,ContextProvider:function(e){var t={setNavigationItems:function(e){i({type:"set-nav-items",payload:e})},setStoryItems:function(e){i({type:"set-story-items",payload:e})},setSelectedSubReddit:function(e){i({type:"set-selected-items",payload:e})},navigationItems:[],storyItems:[],selectedSubReddit:{fnId:"fn1623341964660",url:"/r/Home/"},setSortStory:function(e){i({type:"set-sort-story",payload:e})},sortBy:null,error:{error:!1,msg:null,setError:function(e){i({type:"set-error",payload:e})}}},s=Object(r.useReducer)(x,t),n=Object(l.a)(s,2),c=n[0],i=n[1];return Object(d.jsx)(O.Provider,{value:c,children:e.children})}},p=s(9),v=s.n(p),y=function(){var e=Object(r.useContext)(m.context);return Object(d.jsxs)("header",{className:v.a.header,children:[Object(d.jsx)("div",{className:v.a.heading,children:Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:Object(d.jsx)("p",{children:e.selectedSubReddit.url.slice(3,e.selectedSubReddit.url.length-1)})})})}),Object(d.jsxs)("div",{className:v.a.sortBy,children:["\u2003",Object(d.jsxs)("span",{children:["Sort by:",Object(d.jsx)("span",{children:Object(d.jsxs)("select",{name:"sort",id:"sort",onChange:function(t){console.log(t.target.value),e.setSortStory(t.target.value)},children:[Object(d.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" Sort by "}),Object(d.jsx)("option",{value:"asc",children:"asc"}),Object(d.jsx)("option",{value:"desc",children:"desc"})]})})]})]})]})},g=s(22),I=s.n(g),S=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:I.a.loader,children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})},_=s(6),B=s.n(_),N=s(8),R=s(11),L=s.n(R),C=function(e){var t=Object(r.useContext)(m.context).selectedSubReddit;return Object(d.jsx)("div",{onClick:function(){1!=e.id&&e.setSelectedSubReddit()},className:t.name!=e.name?L.a.navItemBox:L.a.navItemBoxActive,children:Object(d.jsx)("li",{children:e.name},e.id)})},w=function(){var e=Object(r.useContext)(m.context),t=Object(r.useState)(!1),s=Object(l.a)(t,2),n=s[0],c=s[1],i="fn".concat(Date.now()),a=function(){var t=Object(N.a)(B.a.mark((function t(){var s,r,n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={},r=[],t.next=4,h.a.get("https://www.reddit.com/reddits.json?jsonp=".concat(i));case 4:return n=t.sent,t.next=7,n.data;case 7:a=(a=t.sent).slice(5+i.length,a.length-1),a=JSON.parse(a),a.data.children.forEach((function(e){var t=e.data.url,n=e.data.display_name,c=e.data.id;s={url:t,name:n,id:c,fnId:i},r.push(s)})),e.setNavigationItems(r),c(!0);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){a(),c(!1)}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)(C,{name:"Reddit Links",id:1}),n?e.navigationItems.map((function(t){return Object(d.jsx)(C,{setSelectedSubReddit:function(){e.setSelectedSubReddit(t)},selectedItem:t,name:t.name,url:t.url,id:t.id})})):Object(d.jsx)("p",{children:"Loading..."})]})})},E=s(5),k=s.n(E),P=function(e){var t=Object(r.useState)(!0),s=Object(l.a)(t,2),n=s[0],c=s[1],i=(Object(r.useContext)(m.context),function(){e.info.length>100&&!n&&c(!0),e.info.length>100&&n&&c(!1)});return Object(d.jsxs)("div",{className:k.a.redditListBox,children:[Object(d.jsx)("div",{className:k.a.redditNum,children:Object(d.jsx)("span",{children:e.subscribers})}),Object(d.jsxs)("div",{className:k.a.subReddit,children:[Object(d.jsxs)("div",{className:k.a.info,children:[Object(d.jsx)("span",{children:n&&e.info.length>100?e.info.slice(0,100).toString().trim()+"...":e.info}),n&&e.info.length>100?Object(d.jsx)("span",{onClick:i,className:k.a.readMore,children:"Read More..."}):null,!n&&e.info.length>100?Object(d.jsx)("span",{onClick:i,className:k.a.readMore,children:"Read Less..."}):null]}),Object(d.jsxs)("div",{className:k.a.authorDetails,children:[Object(d.jsx)("span",{children:Object(d.jsx)("p",{children:"Posted by:"})}),Object(d.jsx)("span",{children:Object(d.jsx)("p",{children:e.author})})]})]})]})},F=function(){var e=Object(r.useContext)(m.context),t=Object(r.useState)(!1),s=Object(l.a)(t,2),n=s[0],c=s[1],i=[],a=function(){var t=Object(N.a)(B.a.mark((function t(s){var r,n,a,o,d;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(s),r=s.fnId,s=s.url,n={},a=[],o="https://www.reddit.com".concat(s,".json?sort=top&t=month&jsonp=").concat(r),console.log("URL: "+o),t.next=10,h.a.get(o);case 10:d=(d=t.sent).data.slice(5+r.length,d.data.length-1),d=JSON.parse(d).data.children,console.log(d),d.forEach((function(e){var t=e.data.author,s=e.data.id,r=e.data.title,c=e.data.score;n={id:s,subscribers:c,info:r,author:t},a.push(n)})),null!=e.sortBy?(a.forEach((function(e){i.push(e)})),"asc"==e.sortBy&&(i.sort((function(e,t){return e.subscribers>t.subscribers?1:t.subscribers>e.subscribers?-1:0})),e.setStoryItems(i)),"desc"==e.sortBy&&(i.sort((function(e,t){return e.subscribers>t.subscribers?-1:t.subscribers>e.subscribers?1:0})),e.setStoryItems(i))):e.setStoryItems(a),c(!0),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),e.error.setError({error:!0,msg:"Network Issue..."});case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){e.storyItems.forEach((function(e){i.push(e)})),"asc"==e.sortBy&&(i.sort((function(e,t){return e.subscribers>t.subscribers?1:t.subscribers>e.subscribers?-1:0})),e.setStoryItems(i)),"desc"==e.sortBy&&(i.sort((function(e,t){return e.subscribers>t.subscribers?-1:t.subscribers>e.subscribers?1:0})),e.setStoryItems(i))}),[e.sortBy]),Object(r.useEffect)((function(){a(e.selectedSubReddit),c(!1)}),[e.selectedSubReddit]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ul",{children:e.error.error||n?e.storyItems.map((function(e){return Object(d.jsx)(P,{info:e.info,subscribers:e.subscribers,author:e.author,id:e.id})})):Object(d.jsx)(S,{})})})};var M=function(){var e=Object(r.useContext)(m.context);return Object(r.useEffect)((function(){console.log(e.error)}),[e.error]),Object(d.jsxs)("div",{class:"App",children:[Object(d.jsx)(y,{}),e.error.error?Object(d.jsx)(u,{msg:e.error.msg}):Object(d.jsxs)("div",{class:"section",children:[Object(d.jsx)("div",{class:"sectionLeft",children:Object(d.jsx)(F,{})}),Object(d.jsx)("div",{class:"sectionRight",children:Object(d.jsx)(w,{})})]})]})},A=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,50)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),r(e),n(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(m.ContextProvider,{children:Object(d.jsx)(M,{})})}),document.getElementById("root")),A()},5:function(e,t,s){e.exports={redditListBox:"redditListItem_redditListBox__11s4z",redditNum:"redditListItem_redditNum__5xssP",subReddit:"redditListItem_subReddit__21e35",info:"redditListItem_info__LPmbv",authorDetails:"redditListItem_authorDetails__1fYvb",readMore:"redditListItem_readMore__1LzrI"}},9:function(e,t,s){e.exports={header:"header_header__2Cidx",sortBy:"header_sortBy__1PRKH",heading:"header_heading__3AXlM"}}},[[49,1,2]]]);
//# sourceMappingURL=main.4c75149c.chunk.js.map